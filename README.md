# Very-Jump è½»é‡çº§è·³æ¿æœº

ä¸€ä¸ªåŸºäº Go + React + TypeScript çš„è½»é‡çº§è·³æ¿æœºè§£å†³æ–¹æ¡ˆï¼Œä¸“ä¸ºä¸­å°å›¢é˜Ÿè®¾è®¡ã€‚

## ç‰¹æ€§

- ğŸš€ **è½»é‡çº§**: å•å®¹å™¨éƒ¨ç½²ï¼Œèµ„æºå ç”¨å°‘
- ğŸ”’ **å®‰å…¨**: JWT è®¤è¯ï¼Œæƒé™æ§åˆ¶ï¼Œä¼šè¯å½•åˆ¶
- ğŸŒ **Web ç•Œé¢**: ç°ä»£åŒ–çš„ React + TypeScript + Ant Design å‰ç«¯
- ğŸ“± **å“åº”å¼**: æ”¯æŒç§»åŠ¨ç«¯è®¿é—®
- ğŸ³ **å®¹å™¨åŒ–**: å®Œå…¨ Docker åŒ–éƒ¨ç½²
- ğŸ’¾ **ä¾¿æºæ€§**: æ•°æ®éš”ç¦»åœ¨æŒ‚è½½ç›®å½•ï¼Œæ˜“äºè¿ç§»

## å¿«é€Ÿå¼€å§‹

### ä½¿ç”¨ Docker Composeï¼ˆæ¨èï¼‰

1. å…‹éš†é¡¹ç›®
```bash
git clone <repository-url>
cd very-jump
```

2. æ„å»ºå‰ç«¯
```bash
./scripts/build-frontend.sh
```

3. å¯åŠ¨æœåŠ¡
```bash
docker-compose up -d
```

4. è®¿é—®åº”ç”¨
```
http://localhost:8080
```

é»˜è®¤ç®¡ç†å‘˜è´¦å·ï¼š
- ç”¨æˆ·åï¼š`admin`
- å¯†ç ï¼š`admin`

### æ‰‹åŠ¨éƒ¨ç½²

1. æ„å»ºå‰ç«¯
```bash
chmod +x scripts/build-frontend.sh
./scripts/build-frontend.sh
```

2. æ„å»ºåç«¯
```bash
chmod +x scripts/build.sh
./scripts/build.sh
```

3. åˆ›å»ºæ•°æ®ç›®å½•
```bash
mkdir -p data
```

4. å¯åŠ¨æœåŠ¡
```bash
./bin/very-jump
```

## é…ç½®

### ç¯å¢ƒå˜é‡

| å˜é‡å | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|--------|------|
| `PORT` | `8080` | æœåŠ¡ç«¯å£ |
| `DATA_DIR` | `/data` | æ•°æ®ç›®å½• |
| `JWT_SECRET` | `very-jump-secret-key` | JWT å¯†é’¥ |
| `JWT_EXPIRY` | `24h` | JWT è¿‡æœŸæ—¶é—´ |
| `SESSION_TIMEOUT` | `30m` | ä¼šè¯è¶…æ—¶æ—¶é—´ |
| `MAX_CONCURRENT_CONN` | `50` | æœ€å¤§å¹¶å‘è¿æ¥æ•° |
| `RECORDING_RETENTION` | `720h` | å½•åˆ¶æ–‡ä»¶ä¿ç•™æ—¶é—´ |
| `LOG_RETENTION` | `2160h` | æ—¥å¿—ä¿ç•™æ—¶é—´ |

### æ•°æ®ç›®å½•ç»“æ„

```
/data/
â”œâ”€â”€ very-jump.db        # SQLite æ•°æ®åº“
â”œâ”€â”€ sessions/           # ä¼šè¯å½•åˆ¶æ–‡ä»¶
â”‚   â””â”€â”€ 2024/01/01/
â”œâ”€â”€ config/             # é…ç½®æ–‡ä»¶
â””â”€â”€ logs/               # åº”ç”¨æ—¥å¿—
```

## åŠŸèƒ½è¯´æ˜

### ç”¨æˆ·ç®¡ç†
- æ”¯æŒç”¨æˆ·åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤
- è§’è‰²æƒé™æ§åˆ¶ï¼ˆadmin/userï¼‰
- JWT è®¤è¯æœºåˆ¶

### æœåŠ¡å™¨ç®¡ç†
- æ”¯æŒæ·»åŠ /åˆ é™¤æœåŠ¡å™¨
- å¯†ç æˆ–å¯†é’¥è®¤è¯
- æœåŠ¡å™¨åˆ†ç»„å’Œæ ‡ç­¾

### SSH ä»£ç†
- Web ç»ˆç«¯ç•Œé¢
- å®æ—¶å‘½ä»¤æ‰§è¡Œ
- å¤šä¼šè¯æ”¯æŒ
- ç»ˆç«¯å¤§å°è°ƒæ•´

### ä¼šè¯å½•åˆ¶
- è‡ªåŠ¨å½•åˆ¶æ‰€æœ‰ä¼šè¯
- æ”¯æŒä¼šè¯å›æ”¾
- å½•åˆ¶æ–‡ä»¶ç®¡ç†

### æƒé™æ§åˆ¶
- ç”¨æˆ·-æœåŠ¡å™¨æƒé™æ˜ å°„
- è¯»å†™æƒé™æ§åˆ¶
- æ“ä½œå®¡è®¡æ—¥å¿—

## API æ–‡æ¡£

### è®¤è¯æ¥å£

```bash
# ç™»å½•
POST /api/v1/auth/login
{
  "username": "admin",
  "password": "admin"
}

# è·å–ç”¨æˆ·ä¿¡æ¯
GET /api/v1/auth/profile
Authorization: Bearer <token>
```

### æœåŠ¡å™¨ç®¡ç†

```bash
# è·å–æœåŠ¡å™¨åˆ—è¡¨
GET /api/v1/servers

# åˆ›å»ºæœåŠ¡å™¨ï¼ˆç®¡ç†å‘˜ï¼‰
POST /api/v1/admin/servers
{
  "name": "æµ‹è¯•æœåŠ¡å™¨",
  "host": "192.168.1.100",
  "port": 22,
  "username": "root",
  "auth_type": "password",
  "password": "password"
}
```

### WebSocket è¿æ¥

```bash
# SSH è¿æ¥
WS /api/v1/ws/ssh/{server_id}
Authorization: Bearer <token>
```

## å¼€å‘

### åç«¯å¼€å‘

```bash
# å®‰è£…ä¾èµ–
go mod download

# è¿è¡Œå¼€å‘æœåŠ¡å™¨
go run cmd/server/main.go

# è¿è¡Œæµ‹è¯•
go test ./...
```

### å‰ç«¯å¼€å‘

```bash
# å¯åŠ¨åç«¯å¼€å‘æœåŠ¡å™¨
go run cmd/server/main.go

# æ–°å¼€ç»ˆç«¯ï¼Œå¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
cd web-app
npm install
npm run dev

# è®¿é—®å¼€å‘ç¯å¢ƒ
# å‰ç«¯å¼€å‘æœåŠ¡å™¨: http://localhost:3000
# åç«¯ API æœåŠ¡å™¨: http://localhost:8080
```

### æŠ€æœ¯æ ˆ

**åç«¯**
- Go 1.21+
- Gin Web Framework
- SQLite æ•°æ®åº“
- JWT è®¤è¯
- WebSocket æ”¯æŒ

**å‰ç«¯**
- React 19
- TypeScript
- Vite æ„å»ºå·¥å…·
- Ant Design UI ç»„ä»¶åº“
- Zustand çŠ¶æ€ç®¡ç†
- xterm.js ç»ˆç«¯ç»„ä»¶
- Axios HTTP å®¢æˆ·ç«¯

## éƒ¨ç½²å»ºè®®

### ç”Ÿäº§ç¯å¢ƒ

1. **ä¿®æ”¹é»˜è®¤å¯†ç **
```bash
docker-compose exec very-jump ./very-jump admin reset-password
```

2. **é…ç½® HTTPS**
   - ä½¿ç”¨ Traefik æˆ– Nginx åå‘ä»£ç†
   - é…ç½® SSL è¯ä¹¦

3. **æ•°æ®å¤‡ä»½**
```bash
# å¤‡ä»½æ•°æ®ç›®å½•
tar -czf very-jump-backup-$(date +%Y%m%d).tar.gz data/
```

4. **ç›‘æ§**
   - é…ç½®å¥åº·æ£€æŸ¥
   - ç›‘æ§èµ„æºä½¿ç”¨
   - æ—¥å¿—èšåˆ

### å®‰å…¨å»ºè®®

1. **ç½‘ç»œå®‰å…¨**
   - é™åˆ¶è®¿é—®æº IP
   - ä½¿ç”¨ VPN æˆ–å†…ç½‘è®¿é—®
   - å®šæœŸæ›´æ–°ç³»ç»Ÿå’Œä¾èµ–

2. **è®¤è¯å®‰å…¨**
   - å¼ºå¯†ç ç­–ç•¥
   - å®šæœŸæ›´æ¢ JWT å¯†é’¥
   - å¯ç”¨ä¼šè¯è¶…æ—¶

3. **å®¡è®¡å®‰å…¨**
   - å®šæœŸæ£€æŸ¥æ“ä½œæ—¥å¿—
   - ç›‘æ§å¼‚å¸¸è¿æ¥
   - å¤‡ä»½ä¼šè¯å½•åˆ¶

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **å®¹å™¨å¯åŠ¨å¤±è´¥**
```bash
# æŸ¥çœ‹æ—¥å¿—
docker-compose logs very-jump

# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tlnp | grep 8080
```

2. **SSH è¿æ¥å¤±è´¥**
   - æ£€æŸ¥æœåŠ¡å™¨ç½‘ç»œè¿æ¥
   - éªŒè¯è®¤è¯ä¿¡æ¯
   - æŸ¥çœ‹é˜²ç«å¢™è®¾ç½®

3. **æƒé™é—®é¢˜**
   - æ£€æŸ¥ç”¨æˆ·-æœåŠ¡å™¨æƒé™é…ç½®
   - éªŒè¯ JWT Token æœ‰æ•ˆæ€§

### æ—¥å¿—æŸ¥çœ‹

```bash
# å®¹å™¨æ—¥å¿—
docker-compose logs -f very-jump

# åº”ç”¨æ—¥å¿—
docker-compose exec very-jump tail -f /data/logs/app.log
```

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## è®¸å¯è¯

MIT License

## æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·åˆ›å»º Issue æˆ–è”ç³»ç»´æŠ¤è€…ã€‚
